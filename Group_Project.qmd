---
title: "Group Project"
author: "Kenza Redwane & Julie Decraemer"
format: 
  html:
    code-fold: true
---
```{r}
#| message: false
here::i_am("DM-Project-4.Rproj")
library(here)
library(vroom)
library(ggplot2)
theme_set(theme_bw())
```

## Data import
In the following three chunks of code we are reading the different csv files of our three datasets into different variables, respectively `drug_consumption`, `lethal_overdoses` and `education`.
```{r}
#| message: false
drug_consumption <- vroom(here("drug-consumption.csv"))
```

```{r}
#| message: false
lethal_overdoses <- vroom(here("lethal-overdoses.csv"))
```
```{r}
#| message: false
education <- vroom(here("education.csv"))
```

Just below, we implemented a first cleaning of the `education` variable, which we called `education_clean`. The goal was first to remove the empty columns and renaming the remaining ones for clarity and usability.
```{r}
#| message: false
library(tidyverse)
library(readr)
library(knitr)
library(kableExtra)
education <- vroom(here("education.csv"))

education_clean <- education %>%
  slice(8:(n() - 3))%>%  

select(-c(3, 4, 6, 7, 9, 10, 12, 13, 15, 16, 18, 19, 21, 22, 24, 25, 
            27, 28, 30, 31, 33, 34, 36, 37, 39, 40, 42, 43)) %>%
rename(
  states = "Table 104.80. Percentage of persons 18 to 24 years old and age 25 and over. by educational attainment and state or jurisdiction: 2012 and 2022",
  less24years_highschool_2012 = "...2",
    less24years_highschool_2022 = "...5",
    years25_LessHighSchool_2012 = "...8",
    years25_LessHighSchool_2022 = "...11",
    years25_moreHighSchool_2012 = "...14",
    years25_moreHighSchool_2022 = "...17",
    years25_bachelor_higher_2012 = "...20",
    years25_bachelor_higher_2022 = "...23",
    years25_bachelor_2012 = "...26",
    years25_bachelor_2022 = "...29",
    years25_graduate_2012 = "...32",
    years25_graduate_2022 = "...35",
    years25_college_2012 = "...38",
    years25_college_2022 = "...41"
  ) 

kable(education_clean %>% slice(1:5), caption = "Excerpt of the first 5 rows of education_clean")
```
<style>
caption {
  text-align: left;
}
</style>

### Description of the files
**Link to our github project:** <a href="https://github.com/Kenz203/DM-Project-4" target="_blank">DM-Project-4</a> <br>

**1) Dataset about drug consumption in the United States** <br>
<a href="https://www.cbp.gov/document/stats/nationwide-drug-seizures" target="_blank">Link to the website of the dataset</a> <br>
With this link you must be directed to the website of the *U.S. Customs and Border Protection*. Under the title "Dashboard dataset", you can click on the second file called "FY21 - FY24 Nationwide Drug Seizures" and it will download directly the file in csv.

**2) Dataset about drug overdose mortality in the United States** <br>
<a href="https://www.cdc.gov/nchs/pressroom/sosmap/drug_poisoning_mortality/drug_poisoning.htm" target="_blank">Link to the website of the dataset</a> <br>
Once you clicked on the link, you can go scroll down and you will find, below the table, a link to directly download the data det in CSV.

**3) Dataset about education levels accross the United States** <br>
<a href="https://nces.ed.gov/programs/digest/d23/tables/dt23_104.80.asp" target="_blank">Link to  the dataset</a> <br>





